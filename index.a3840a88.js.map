{"mappings":"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","sources":["src/app.js"],"sourcesContent":["// import { doc } from \"firebase/firestore\";\r\n\r\nconst boxes = JSON.parse(localStorage.getItem(\"boxes\")) || [];\r\n// let boxCounter = 1;\r\n\r\nconst btnAdd = document.querySelector(\".btn-submit\");\r\nconst boxNumContainer = document.querySelector(\".box-num\");\r\nconst itemsText = document.querySelector(\".textarea\");\r\nconst boxesContainer = document.querySelector(\".boxes__container\");\r\nconst btnSearch = document.querySelector(\".search-btn\");\r\nconst inputSearch = document.querySelector(\".search-input\");\r\nconst btnDellall = document.querySelector(\".dell-all\");\r\nconst btnPrint = document.querySelector(\".print-btn\");\r\nconst userIconContainer = document.querySelector(\".user-icon-container\");\r\nconst userIcon = document.querySelector(\".user-icon\");\r\nconst userIconText = document.querySelector(\".user-icon-text\");\r\nconst checkbox = document.querySelector(\".toggle-checkbox\");\r\n\r\nboxNumContainer.firstElementChild.textContent = boxes.at(-1)?.number + 1 || 1;\r\n\r\nconst svgEditSrc = document\r\n  .querySelector(\".box-num-edit-img\")\r\n  .getAttribute(\"src\");\r\n\r\nconst svgEdit = `<img class=\"box-num-edit-img\" src=\"${svgEditSrc}\" alt=\"edit box title\">`;\r\n\r\nlet autoNum = JSON.parse(localStorage.getItem(\"autoNum\")) ?? true;\r\nif (autoNum) {\r\n  checkbox.checked = true;\r\n} else {\r\n  checkbox.checked = false;\r\n}\r\n\r\nconst localsaveBoxes = function () {\r\n  localStorage.setItem(\"boxes\", JSON.stringify(boxes));\r\n  localStorage.setItem(\"autoNum\", autoNum);\r\n};\r\n\r\nconst boxNumEditable = function (editable) {\r\n  const btnEditNum = [...document.getElementsByClassName(\"box-num-edit-img\")];\r\n  if (!editable) {\r\n    autoNum = false;\r\n    btnEditNum.forEach((btn) => {\r\n      btn.style.display = \"flex\";\r\n    });\r\n  } else {\r\n    btnEditNum.forEach((btn) => {\r\n      btn.style.display = \"none\";\r\n    });\r\n  }\r\n  return btnEditNum;\r\n};\r\nboxNumEditable(autoNum);\r\n\r\nconst boxMaker = function (number, title, items) {\r\n  return `\r\n<article class=\"box\" data-index=\"${number}\">\r\n  <div class=\"box-num ss02\"><span>${title ? title : number}</span>\r\n    ${svgEdit}\r\n  </div>\r\n  <div class=\"items\">\r\n    <ul class='list ss02'>\r\n      ${items}\r\n    </ul>\r\n  </div>\r\n  <div class=\"control\">\r\n    <button class=\"box__btn btn-remove\">حذف</button>\r\n    <button class=\"box__btn btn-edit box-edit\">ویرایش</button>\r\n  </div>\r\n</article>\r\n`;\r\n};\r\n\r\nconst itemsOrganizer = function (items) {\r\n  return items\r\n    .split(\"\\n\")\r\n    .filter((item) => {\r\n      if (item.trim()) {\r\n        return item;\r\n      }\r\n    })\r\n    .map((item) => {\r\n      if (item) return item.trim();\r\n    });\r\n};\r\n\r\nconst itemsHTML = (arr) => arr.map((item) => `<li>${item}</li>`).join(\"\\n\");\r\n\r\nconst boxesUpdate = function () {\r\n  boxesContainer.innerHTML = \"\";\r\n  boxes.forEach((box, i) => {\r\n    // box.index = i + 1;\r\n    let items = itemsHTML(box.items);\r\n    boxesContainer.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      boxMaker(box.number, box.title, items)\r\n    );\r\n  });\r\n  boxNumEditable(autoNum);\r\n  localsaveBoxes();\r\n};\r\nboxesUpdate();\r\n\r\nbtnAdd.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n  if (!itemsText.value) return;\r\n  const title = e.target.parentElement.querySelector(\".title\")?.textContent;\r\n  const itemsArr = itemsOrganizer(itemsText.value);\r\n  const number = boxes.at(-1)?.number + 1 || 1;\r\n  itemsText.value = \"\";\r\n  boxes.push({\r\n    number,\r\n    title,\r\n    items: itemsArr,\r\n  });\r\n  boxesUpdate();\r\n  localsaveBoxes();\r\n  boxNumContainer.firstElementChild.textContent = boxes.at(-1)?.number + 1 || 1;\r\n});\r\n\r\n// Edding made boxes\r\nboxesContainer.addEventListener(\"click\", function (e) {\r\n  if (!e.target.classList.contains(\"box-edit\")) return;\r\n  e.preventDefault();\r\n\r\n  e.target.classList.toggle(\"box-edit\");\r\n\r\n  const theBox = e.target.closest(\".box\");\r\n  const index = +theBox.dataset.index;\r\n  const items = theBox.querySelector(\".items\");\r\n\r\n  let targetIndex;\r\n  boxes.forEach((box, i, _) => {\r\n    if (box.number === index) {\r\n      targetIndex = i;\r\n    }\r\n  });\r\n\r\n  const editContainer = document.createElement(\"div\");\r\n  editContainer.classList.add(\"edit__container\");\r\n\r\n  const newTextarea = document.createElement(\"textarea\");\r\n  newTextarea.textContent = boxes[targetIndex].items.join(\"\\n\");\r\n  newTextarea.classList.add(\"textarea\", \"edit-textarea\", \"ss02\");\r\n  items.firstElementChild.style.display = \"none\";\r\n  items.style.margin = \"1rem\";\r\n\r\n  const btnSet = document.createElement(\"button\");\r\n  btnSet.textContent = \"ثبت\";\r\n  btnSet.classList.add(\"btn\", \"btn-submit\", \"raise\", \"btn-edit-set\");\r\n\r\n  editContainer.append(newTextarea, btnSet);\r\n\r\n  items.append(editContainer);\r\n});\r\n\r\n// Saving editted boxes\r\nboxesContainer.addEventListener(\"click\", function (e) {\r\n  if (!e.target.classList.contains(\"btn-edit-set\")) return;\r\n\r\n  e.preventDefault();\r\n\r\n  const theBox = e.target.closest(\".box\");\r\n  const index = +theBox.dataset.index;\r\n  const items = theBox.querySelector(\".items\");\r\n  const editContainer = theBox.querySelector(\".edit__container\");\r\n\r\n  let targetIndex;\r\n  boxes.forEach((box, i, _) => {\r\n    if (box.number === index) {\r\n      targetIndex = i;\r\n    }\r\n  });\r\n\r\n  theBox.querySelector(\".btn-edit\").classList.toggle(\"box-edit\");\r\n\r\n  const updatedItems = (boxes[targetIndex].items = itemsOrganizer(\r\n    e.target.previousElementSibling.value\r\n  ));\r\n\r\n  items.firstElementChild.innerHTML = itemsHTML(updatedItems);\r\n\r\n  editContainer.remove();\r\n  items.firstElementChild.style.display = \"initial\";\r\n  items.style.marginTop = \"2rem\";\r\n  items.style.marginRight = \"3.5rem\";\r\n\r\n  localsaveBoxes();\r\n});\r\n\r\nboxesContainer.addEventListener(\"click\", function (e) {\r\n  if (!e.target.classList.contains(\"btn-remove\")) return;\r\n  e.preventDefault();\r\n\r\n  if (confirm(\"آیا از حذف باکس اطمینان دارید؟\")) {\r\n    const theBox = e.target.closest(\".box\");\r\n    const index = +theBox.dataset.index;\r\n\r\n    boxes.forEach((box, i, arr) => {\r\n      if (box.number === index) {\r\n        arr.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    boxesUpdate();\r\n    localsaveBoxes();\r\n    boxNumContainer.firstElementChild.textContent =\r\n      boxes.at(-1)?.number + 1 || 1;\r\n  }\r\n});\r\n\r\nbtnSearch.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n  const filteredBoxes = [];\r\n  boxes.forEach((box, i, arr) => {\r\n    if (box.items.some((item) => item.includes(inputSearch.value)))\r\n      filteredBoxes.push(arr[i]);\r\n  });\r\n  boxesContainer.innerHTML = \"\";\r\n  filteredBoxes.forEach((box) => {\r\n    let items = box.items\r\n      .map((item) => {\r\n        return `<li>${item}</li>`;\r\n      })\r\n      .join(\"\\n\");\r\n    boxesContainer.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      boxMaker(box.number, box.title, items)\r\n    );\r\n    boxNumEditable(autoNum);\r\n  });\r\n});\r\n\r\ninputSearch.addEventListener(\"input\", function (e) {\r\n  const filteredBoxes = [];\r\n  boxes.forEach((box, i, arr) => {\r\n    if (box.items.some((item) => item.includes(inputSearch.value)))\r\n      filteredBoxes.push(arr[i]);\r\n  });\r\n  boxesContainer.innerHTML = \"\";\r\n  filteredBoxes.forEach((box) => {\r\n    let items = box.items\r\n      .map((item) => {\r\n        return `<li>${item}</li>`;\r\n      })\r\n      .join(\"\\n\");\r\n    boxesContainer.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      boxMaker(box.number, box.title, items)\r\n    );\r\n    boxNumEditable(autoNum);\r\n  });\r\n});\r\n\r\nbtnDellall.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n  if (confirm(\"آیا از حذف همه اطمینان دارید؟\")) {\r\n    boxes.length = 0;\r\n    boxesUpdate();\r\n    localsaveBoxes();\r\n    boxNumContainer.firstElementChild.textContent = 1;\r\n  }\r\n});\r\n\r\nbtnPrint.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n  const previousAppend = document.querySelector(\".finalPrint\");\r\n  if (previousAppend) previousAppend.remove();\r\n  const finalPrint = boxesContainer.cloneNode();\r\n  const printClone = boxesContainer.cloneNode(true);\r\n  printClone.classList.add(\"printClone\");\r\n  finalPrint.classList.add(\"finalPrint\");\r\n  [...printClone.children].forEach((_, i, arr) => {\r\n    const div = document.createElement(\"div\");\r\n    if (i % 2 === 0) {\r\n      if (!arr[i + 1]) {\r\n        div.append(arr[i]);\r\n        finalPrint.append(div);\r\n      } else {\r\n        div.append(arr[i], arr[i + 1]);\r\n        finalPrint.append(div);\r\n      }\r\n    }\r\n  });\r\n  boxesContainer.insertAdjacentElement(\"afterend\", finalPrint);\r\n\r\n  [...finalPrint.children].forEach((div) => {\r\n    [...div.children].forEach((box, i, arr) => {\r\n      if (arr[0] && arr[1]) {\r\n        const h1 = parseFloat(getComputedStyle(arr[0])?.height);\r\n        const h2 = parseFloat(getComputedStyle(arr[1])?.height);\r\n        if (h1 && h2 && h1 !== h2) {\r\n          if (h1 > h2) {\r\n            arr[1].style.height = h1 - 39 + \"px\";\r\n          } else {\r\n            arr[0].style.height = h2 - 39 + \"px\";\r\n          }\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  window.print();\r\n});\r\n\r\nuserIcon.addEventListener(\"mouseenter\", function (e) {\r\n  userIconText.style.opacity = \"100\";\r\n});\r\nuserIcon.addEventListener(\"mouseleave\", function (e) {\r\n  userIconText.style.opacity = \"0\";\r\n});\r\n\r\n// Start of Auth Window Scrips\r\n\r\nconst modal = document.querySelector(\".auth-window\");\r\nconst overlay = document.querySelector(\".overlay\");\r\nconst btnCloseModal = document.querySelector(\".close-modal\");\r\nconst signinForm = document.querySelector(\".signin\");\r\nconst signupForm = document.querySelector(\".signup\");\r\nconst formsContainer = document.querySelector(\".forms\");\r\nconst signinFormBtn = document.querySelector(\".signin-form-btn\");\r\nconst signupFormBtn = document.querySelector(\".signup-form-btn\");\r\n\r\nconst openModal = function () {\r\n  modal.classList.remove(\"hidden\");\r\n  overlay.classList.remove(\"hidden\");\r\n  document.body.style.height = \"100vh\";\r\n  document.body.style.overflow = \"hidden\";\r\n};\r\nuserIcon.addEventListener(\"click\", openModal);\r\n\r\nconst closeModal = function () {\r\n  modal.classList.add(\"hidden\");\r\n  overlay.classList.add(\"hidden\");\r\n  document.body.style.height = \"auto\";\r\n  document.body.style.overflow = \"auto\";\r\n};\r\nbtnCloseModal.addEventListener(\"click\", closeModal);\r\noverlay.addEventListener(\"click\", closeModal);\r\n\r\ndocument.addEventListener(\"keydown\", function (e) {\r\n  if (e.key === \"Escape\" && !modal.classList.contains(\"hidden\")) {\r\n    closeModal();\r\n  }\r\n});\r\n\r\nsigninForm.addEventListener(\"submit\", function (e) {\r\n  e.preventDefault();\r\n  const email = this.email.value;\r\n  const password = this.password.value;\r\n});\r\nsignupForm.addEventListener(\"submit\", function (e) {\r\n  e.preventDefault();\r\n  const email = this.email.value;\r\n  const password = this.password.value;\r\n  const passRepeat = this.passRepeat.value;\r\n});\r\n\r\nsignupFormBtn.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n  signupFormBtn.classList.add(\"auth-selected\");\r\n  signinFormBtn.classList.remove(\"auth-selected\");\r\n  signupForm.style.transform = \"translateX(0)\";\r\n  signinForm.style.transform = \"translateX(100%)\";\r\n  formsContainer.style.height = \"400px\";\r\n});\r\n\r\nsigninFormBtn.addEventListener(\"click\", function (e) {\r\n  e.preventDefault();\r\n  signupFormBtn.classList.remove(\"auth-selected\");\r\n  signinFormBtn.classList.add(\"auth-selected\");\r\n  signupForm.style.transform = \"translateX(-100%)\";\r\n  signinForm.style.transform = \"translateX(0)\";\r\n  formsContainer.style.height = \"310px\";\r\n});\r\n\r\n// Toggle Pass Option\r\nformsContainer.addEventListener(\"click\", function (e) {\r\n  if (!e.target.classList.contains(\"curser-area\")) return;\r\n\r\n  const input = e.target.previousElementSibling;\r\n  const iconSlash = e.target.nextElementSibling;\r\n  const iconSolid = iconSlash.nextElementSibling;\r\n\r\n  const type = input.getAttribute(\"type\") === \"password\" ? \"text\" : \"password\";\r\n\r\n  input.setAttribute(\"type\", type);\r\n\r\n  if (!iconSlash.classList.contains(\"hidden\")) {\r\n    iconSlash.classList.add(\"hidden\");\r\n    iconSolid.classList.remove(\"hidden\");\r\n  } else {\r\n    iconSlash.classList.remove(\"hidden\");\r\n    iconSolid.classList.add(\"hidden\");\r\n  }\r\n});\r\n\r\ncheckbox.addEventListener(\"click\", function (e) {\r\n  const btnEditNum = boxNumEditable();\r\n  if (this.checked !== true) {\r\n    autoNum = false;\r\n    localStorage.setItem(\"autoNum\", JSON.stringify(autoNum));\r\n    btnEditNum.forEach((btn) => {\r\n      btn.style.display = \"flex\";\r\n    });\r\n  } else {\r\n    autoNum = true;\r\n    localStorage.setItem(\"autoNum\", JSON.stringify(autoNum));\r\n    btnEditNum.forEach((btn) => {\r\n      btn.style.display = \"none\";\r\n    });\r\n    boxNumContainer.firstElementChild.textContent =\r\n      boxes.at(-1)?.number + 1 || 1;\r\n    boxesUpdate();\r\n  }\r\n});\r\n\r\nconst mainContainer = document.querySelector(\".main-container\");\r\n\r\nmainContainer.addEventListener(\"click\", function (e) {\r\n  if (!e.target.classList.contains(\"box-num-edit-img\")) return;\r\n\r\n  const boxNum = e.target.previousElementSibling.textContent;\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.classList.add(\"box-naming-input-container\");\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"text\";\r\n  input.id = \"box-naming-input\";\r\n  input.classList.add(\"search-input\", \"box-naming-input\", \"ss02\");\r\n  input.value = boxNum;\r\n  const btn = document.createElement(\"button\");\r\n  btn.textContent = \"ثبت\";\r\n  btn.classList.add(\"search-btn\", \"box-naming-btn\");\r\n  div.append(input, btn);\r\n\r\n  e.target.previousElementSibling.replaceWith(div);\r\n\r\n  e.target.style.display = \"none\";\r\n\r\n  input.focus();\r\n  input.select();\r\n});\r\n\r\nmainContainer.addEventListener(\"click\", function (e) {\r\n  if (!e.target.classList.contains(\"box-naming-btn\")) return;\r\n  e.preventDefault();\r\n  const title = e.target.previousElementSibling.value;\r\n  const span = document.createElement(\"span\");\r\n  const index = +e.target.closest(\".box\")?.dataset?.index;\r\n\r\n  span.classList.add(\"title\");\r\n  span.textContent = title;\r\n  e.target.parentElement.replaceWith(span);\r\n  boxNumEditable(autoNum);\r\n\r\n  if (index) {\r\n    let targetIndex;\r\n    boxes.forEach((box, i, _) => {\r\n      if (box.number === index) {\r\n        targetIndex = i;\r\n      }\r\n    });\r\n\r\n    boxes[targetIndex].title = title;\r\n    localsaveBoxes();\r\n  }\r\n\r\n  // boxesUpdate();\r\n});\r\n"],"names":["boxes","JSON","parse","localStorage","getItem","btnAdd","document","querySelector","boxNumContainer","itemsText","boxesContainer","btnSearch","inputSearch","btnDellall","btnPrint","userIconContainer","userIcon","userIconText","checkbox","firstElementChild","textContent","at","number","svgEditSrc","getAttribute","svgEdit","autoNum","checked","localsaveBoxes","setItem","stringify","boxNumEditable","editable","btnEditNum","getElementsByClassName","forEach","btn","style","display","boxMaker","title","items","itemsOrganizer","split","filter","item","trim","map","itemsHTML","arr","join","boxesUpdate","innerHTML","box","i","insertAdjacentHTML","addEventListener","e","preventDefault","value","target","parentElement","itemsArr","push","classList","contains","toggle","theBox","closest","index","dataset","targetIndex","_","editContainer","createElement","add","newTextarea","margin","btnSet","append","previousElementSibling","updatedItems","remove","marginTop","marginRight","confirm","splice","filteredBoxes","some","includes","length","previousAppend","cloneNode","printClone","finalPrint","children","div","insertAdjacentElement","h1","parseFloat","getComputedStyle","height","h2","window","print","opacity","modal","overlay","btnCloseModal","signinForm","signupForm","formsContainer","signinFormBtn","signupFormBtn","openModal","body","overflow","closeModal","key","this","email","password","passRepeat","transform","input","iconSlash","nextElementSibling","iconSolid","type","mainContainer","boxNum","id","replaceWith","focus","span"],"version":3,"file":"index.a3840a88.js.map"}